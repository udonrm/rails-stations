<%= form_with url: movies_path, method: :get do |f| %>
  <%= f.radio_button :is_showing, 'all', checked: params[:is_showing] == 'all' || params[:is_showing].nil? %>
  <%= f.label :is_showing_all, "全て" %>

  <%= f.radio_button :is_showing, 'true', checked: params[:is_showing] == 'true' %>
  <%= f.label :is_showing_true, "公開中" %>

  <%= f.radio_button :is_showing, 'false', checked: params[:is_showing] == 'false' %>
  <%= f.label :is_showing_false, "公開予定" %>

  <%= f.text_field :name, value: params[:name]%>
  <%= f.submit '検索'%>
<% end %>

<%= link_to '検索結果をリセット', movies_path %>

<table class = "table">
    <thead>
        <tr class = "table-primary">
            <th>ID</th>
            <th>映画タイトル</th>
            <th>公開年</th>
            <th>上映中か</th>
            <th>概要</th>
            <th>画像URL</th>
            <th>作成日時</th>
            <th>更新日時</th>
        </tr>
    </thead>
    <% @movies.each do |movie| %>
        <tr>
            <td><%= movie.id %></td>
            <td><%= movie.name %></td>
            <td><%= movie.year %></td>
            <td>
                <% if movie.is_showing %>
                    上映中
                <% else %>
                    公開停止中
                <% end %>
            </td>
            <td><%= movie.description %></td>
            <td><%= movie.image_url %></td>
            <td><%= movie.created_at %></td>
            <td><%= movie.updated_at %></td>
        </tr>
    <% end %>
</table>